---
interface Photo { src: string; alt: string; fallback?: string }
interface Props { photos: Photo[] }
const { photos } = Astro.props as Props;
---
<div class="grid" style="grid-template-columns: repeat(3, 1fr); gap: 12px">
  {photos.slice(0,3).map((p) => (
    <figure class="image-card reveal" style="margin:0">
      <img src={p.src} alt={p.alt} onerror={`this.onerror=null;this.src='${p.fallback || '/images/facility-plant.svg'}'`} style="width:100%; height:220px; object-fit:cover; border-radius:16px; border:1px solid var(--outline); box-shadow: var(--shadow)" />
      <figcaption class="muted" style="font-size:12px; margin-top:6px">{p.alt}</figcaption>
    </figure>
  ))}
</div>
